import{d as se,a as ue,E as S,t as J,s as R,b as ce,r as M,c as g,e as C,f as r,g as F,w as i,o as m,h as c,i as o,j as k,k as ae,p as T,l as B,m as z,F as I,n as ne,q as de,u as W,v as H,x as O,y as P,z as $,A as pe,B as G,C as _e,D as me,G as fe,H as he,I as ke,J as ve,K as ge,L as be,M as Y}from"./vendor.05e4f689.js";const Fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}};Fe();function $e(e){return JSON.stringify(e)}function De(e){return JSON.parse(e)}function le(e){we("preference",e)}function we(e,t){let s="";typeof t=="object"?s=$e(t):typeof t=="string"?s=t:typeof t=="number"?s=t.toString():console.log("key\u4E3A\u5176\u4ED6\u7C7B\u578B"),localStorage.setItem(e,s)}function Ce(e){return localStorage.getItem(e)}var y=(e=>(e[e.AUTO=0]="AUTO",e[e.LIGHT=1]="LIGHT",e[e.DARK=2]="DARK",e))(y||{});function ye(){const e=Ce("preference");if(!e){const t={downloadDefaultDir:"/Users/yushengyuan/yushengyuan/tests",appThemeColor:2,cachePath:"/Users/yushengyuan/yushengyuan/tests/dist",autoStartup:!1};return le(t),t}return De(e)}const A=se({id:"preferenceSettings",state:()=>ye(),getters:{getAppThemeColor(e){return e.appThemeColor}},actions:{updateDownloadPath(e){this.downloadDefaultDir=e},updateAppThemeColor(e){this.appThemeColor=e},updateStartupSet(e){this.autoStartup=e},updateCachePath(e){this.cachePath=e}}}),Se="http://localhost:8080",N=ue.create({baseURL:Se,headers:{"Content-Type":"application/json"}});N.interceptors.request.use(e=>e,e=>{S.error(e)});N.interceptors.response.use(e=>{const t=e.data,{code:s,message:n}=t;return s!==200?(S.error(n),Promise.reject(n)):t},e=>{S.error(e)});const Q={async fetchFinishTaskList(){return await N.get("/query/task")},async addTask(e){return await N.post("/task/add",{name:e.name,desc:e.desc,outputDir:e.outputDir,parseUrl:e.parseUrl})},async removeTask(e){return await N.post("/task/remove",{taskId:e})}},j=se({id:"taskInfo",state:()=>({finishTaskList:[],rowFinishListData:[]}),actions:{async fetchTaskList(){const{data:e}=await Q.fetchFinishTaskList();return this.setFinishTaskListData(e),this.setRowTaskData(),e},setFinishTaskListData(e){this.finishTaskList=e},setRowTaskData(){const e=this.finishTaskList.map(n=>({taskId:n.task_id,taskName:n.task_name,taskDesc:n.task_desc,createDate:n.task_create_time,parseUrl:n.task_url,iconUrl:n.task_icon_url}));this.rowFinishListData=[];const t=J(e),s=Math.floor(t.length/2);for(let n=0;n<s;n++)this.rowFinishListData.push({row:n+1,rowElement:t.slice(n*2,n*2+2)});return t.length%2&&this.rowFinishListData.push({row:this.rowFinishListData.length+1,rowElement:[t[t.length-1]]}),this.rowFinishListData}}});function Te(e){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'*+,;=.]+$/.test(e)}function Be(e){const t=e.parseUrl,s=e.name;return Te(t)?s.trim()?!0:(S.error("\u8BF7\u8F93\u5165\u5E94\u7528\u7684\u540D\u79F0"),!1):(S.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u89E3\u6790url\u5730\u5740"),!1)}function Ae(e){return{dialogOpen:()=>{e.emit("update:visible",!0)},dialogClose:()=>{e.emit("update:visible",!1)}}}const Ie=(e,t)=>{console.log("\u91CD\u65B0\u6267\u884Chooks");const s=A(),{downloadDefaultDir:n,cachePath:l}=R(s),u=ce(e,"visible"),a=M({name:"",desc:"",outputDir:n.value,parseUrl:""}),d=M({cachePath:l.value}),{dialogOpen:p,dialogClose:_}=Ae(t);return{baseFormData:a,advanceFormData:d,visible:u,dialogClose:_,dialogOpen:p,taskSubmit:()=>{const f=J(a),w=j();!Be(a)||(_(),Q.addTask({name:f.name,desc:f.desc,outputDir:f.outputDir,parseUrl:f.parseUrl}).then(L=>{S.success("\u4EFB\u52A1\u6DFB\u52A0\u6210\u529F");const v=L.data;w.setFinishTaskListData(v),w.setRowTaskData()}))}}};var b=(e,t)=>{const s=e.__vccOpts||e;for(const[n,l]of t)s[n]=l;return s};const Le=g({name:"add-task-dialog",props:{visible:{type:Boolean}},setup(e,t){const{baseFormData:s,advanceFormData:n,visible:l,dialogOpen:u,dialogClose:a,taskSubmit:d}=Ie(e,t);return{advanceVisible:C(!1),baseFormData:s,advanceFormData:n,visible:l,dialogClose:a,dialogOpen:u,taskSubmit:d}}}),Ee=e=>(T("data-v-95dfb186"),e=e(),B(),e),Ue=Ee(()=>c("div",{class:"add-task-dialog-header"},"\u6DFB\u52A0\u4EFB\u52A1",-1)),Ve={class:"des-field"},Ne={key:0},Pe={class:"dialog-footer"},Re=z("\u53D6\u6D88"),ze=z("\u63D0\u4EA4 ");function Me(e,t,s,n,l,u){const a=r("el-input"),d=r("el-form-item"),p=r("el-col"),_=r("el-row"),h=r("el-form"),f=r("el-checkbox"),w=r("el-button"),L=r("el-dialog");return m(),F(L,{modelValue:e.visible,"onUpdate:modelValue":t[6]||(t[6]=v=>e.visible=v),width:"64vw","custom-class":"tab-title-dialog add-task-dialog","append-to-body":!0,center:!0,onOpen:e.dialogOpen,onClose:e.dialogClose},{footer:i(()=>[c("div",Pe,[o(f,{modelValue:e.advanceVisible,"onUpdate:modelValue":t[5]||(t[5]=v=>e.advanceVisible=v),label:"\u9AD8\u7EA7\u9009\u9879",class:"chk"},null,8,["modelValue"]),o(w,{onClick:e.dialogClose},{default:i(()=>[Re]),_:1},8,["onClick"]),o(w,{type:"primary",onClick:e.taskSubmit,color:"#5b5bfa"},{default:i(()=>[ze]),_:1},8,["onClick"])])]),default:i(()=>[Ue,o(h,{model:e.baseFormData,"label-width":"120px","label-position":"left"},{default:i(()=>[c("div",Ve,[o(a,{modelValue:e.baseFormData.desc,"onUpdate:modelValue":t[0]||(t[0]=v=>e.baseFormData.desc=v),autosize:{minRows:3,maxRows:4},minlength:"60px",type:"textarea",placeholder:"\u4EFB\u52A1\u63CF\u8FF0"},null,8,["modelValue"])]),o(_,{gutter:20},{default:i(()=>[o(p,{span:9},{default:i(()=>[o(d,{label:"\u91CD\u547D\u540D:","label-width":"70px"},{default:i(()=>[o(a,{modelValue:e.baseFormData.name,"onUpdate:modelValue":t[1]||(t[1]=v=>e.baseFormData.name=v)},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:15},{default:i(()=>[o(d,{label:"\u89E3\u6790url:","label-width":"70px"},{default:i(()=>[o(a,{modelValue:e.baseFormData.parseUrl,"onUpdate:modelValue":t[2]||(t[2]=v=>e.baseFormData.parseUrl=v)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{label:"\u5B58\u50A8\u8DEF\u5F84:","label-width":"100px"},{default:i(()=>[o(a,{modelValue:e.baseFormData.outputDir,"onUpdate:modelValue":t[3]||(t[3]=v=>e.baseFormData.outputDir=v)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e.advanceVisible?(m(),k("div",Ne,[o(h,{model:e.advanceFormData,"label-width":"120px","label-position":"left"},{default:i(()=>[o(d,{label:"\u7F13\u5B58\u8DEF\u5F84:","label-width":"100px"},{default:i(()=>[o(a,{modelValue:e.advanceFormData.cachePath,"onUpdate:modelValue":t[4]||(t[4]=v=>e.advanceFormData.cachePath=v)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):ae("",!0)]),_:1},8,["modelValue","onOpen","onClose"])}var q=b(Le,[["render",Me],["__scopeId","data-v-95dfb186"]]);const Oe=g({components:{AddTaskDialog:q,[q.name]:q},setup(){const e=C(!1);return{visible:e,addTask:()=>{e.value=!0}}}}),je={class:"aside-inner"},Ke={class:"menu-top"},We={class:"menu-download menu-btn"},qe={class:"menu-bottom menu-btn"};function Ge(e,t,s,n,l,u){const a=r("mo-icons"),d=r("router-link"),p=r("el-aside"),_=r("add-task-dialog");return m(),k(I,null,[o(p,{width:"78px",class:"draggable hidden-menu-only"},{default:i(()=>[c("div",je,[c("div",Ke,[c("div",We,[o(d,{to:"/download"},{default:i(()=>[o(a,{name:"download"})]),_:1})]),c("div",{class:"menu-download-list menu-btn",onClick:t[0]||(t[0]=(...h)=>e.addTask&&e.addTask(...h))},[o(a,{name:"add"})])]),c("div",qe,[o(d,{to:"/settings"},{default:i(()=>[o(a,{name:"setting"})]),_:1})])])]),_:1}),e.visible?(m(),F(_,{key:0,visible:e.visible,"onUpdate:visible":t[1]||(t[1]=h=>e.visible=h)},null,8,["visible"])):ae("",!0)],64)}var Je=b(Oe,[["render",Ge],["__scopeId","data-v-be3d4820"]]);const He=g({name:"title-draggable"}),Qe={class:"title-bar-draggable"};function Xe(e,t,s,n,l,u){return m(),k("div",Qe)}var Z=b(He,[["render",Xe],["__scopeId","data-v-081115f2"]]);const Ye=g({components:{"side-bar":Je,[Z.name]:Z},setup(){const e=A(),t=()=>{let n="theme-";switch(e.appThemeColor){case y.AUTO:{n+="auto";break}case y.LIGHT:{n+="light";break}case y.DARK:n+="dark"}return n};ne(()=>e.appThemeColor,()=>{s()});const s=()=>{document.documentElement.className=t()};de(()=>{s()})}});function Ze(e,t,s,n,l,u){const a=r("title-draggable"),d=r("side-bar"),p=r("router-view"),_=r("el-container");return m(),k(I,null,[o(a),o(_,{id:"container"},{default:i(()=>[o(d),o(p)]),_:1})],64)}var xe=b(Ye,[["render",Ze],["__scopeId","data-v-430cab5d"]]);var X=(e=>(e.Focus="#5b5bfa",e.defaultColor="#303133",e))(X||{});const et=g({name:"TaskBar",setup(){const e=A(),t=R(e),s=W(()=>{const{appThemeColor:u}=t;return u.value===y.DARK?{color:"#ffffff"}:{color:"rgb(91, 91, 250)"}}),n=C(1);return{focusItemIndex:n,activeColor:s,StrokeColor:X,selectTask:u=>{n.value=u}}}}),tt=e=>(T("data-v-aff82708"),e=e(),B(),e),ot={class:"task-bar-con"},st={class:"task-status-list-con"},at=tt(()=>c("div",{class:"task-list-title header-title"},"\u4EFB\u52A1\u5217\u8868",-1)),nt={class:"task-status-list-con"},lt={class:"task-status-icon-con"};function rt(e,t,s,n,l,u){const a=r("mo-icons"),d=r("router-link");return m(),k("div",ot,[c("div",st,[at,c("div",nt,[o(d,{to:{path:"/download/finish"},class:H("task-status-item "+(e.focusItemIndex===1?"task-status-item-focus":"")),onClick:t[0]||(t[0]=p=>e.selectTask(1))},{default:i(()=>[c("div",lt,[o(a,{name:"checkSuccess",style:O([e.focusItemIndex===1?e.activeColor:""])},null,8,["style"])]),c("div",{class:"task-status-text",style:O(e.focusItemIndex===1?e.activeColor:"")}," \u5386\u53F2\u4EFB\u52A1 ",4)]),_:1},8,["class"])])])])}var it=b(et,[["render",rt],["__scopeId","data-v-aff82708"]]);const ut=g({components:{"task-bar":it},name:"download-task"}),ct={class:"task-bar-con"},dt={class:"panel task-content"};function pt(e,t,s,n,l,u){const a=r("task-bar"),d=r("el-aside"),p=r("router-view"),_=r("el-main"),h=r("el-container");return m(),F(h,{id:"container"},{default:i(()=>[o(d,{width:"200px",class:"hidden-subnav-only"},{default:i(()=>[c("div",ct,[o(a)])]),_:1}),o(_,{class:"panel-content"},{default:i(()=>[c("div",dt,[o(p)])]),_:1})]),_:1})}var _t=b(ut,[["render",pt],["__scopeId","data-v-e13f77f8"]]);const mt=g({name:"preference-menu",setup(){const e=[{name:"\u57FA\u7840\u8BBE\u7F6E",path:"/download/pending",id:1}],t=A(),s=R(t),n=W(()=>{const{appThemeColor:a}=s;return a.value===y.DARK?{color:"#ffffff"}:{color:"rgb(91, 91, 250)"}}),l=C(0);return{focusItemIndex:l,taskMenuItem:e,StrokeColor:X,selectTask:a=>{l.value=a},activeColor:n}}}),ft=e=>(T("data-v-6143fda6"),e=e(),B(),e),ht={class:"task-bar-con"},kt={class:"task-status-list-con"},vt=ft(()=>c("div",{class:"task-list-title header-title"},"\u504F\u597D\u8BBE\u7F6E",-1)),gt={class:"task-status-list-con"},bt={class:"task-status-icon-con"};function Ft(e,t,s,n,l,u){const a=r("mo-icons"),d=r("router-link");return m(),k("div",ht,[c("div",kt,[vt,c("div",gt,[(m(!0),k(I,null,P(e.taskMenuItem,(p,_)=>(m(),F(d,{to:{path:p.path},class:H("task-status-item "+(e.focusItemIndex===_?"task-status-item-focus":"")),onClick:h=>e.selectTask(_)},{default:i(()=>[c("div",bt,[o(a,{name:"switch",style:O([e.activeColor])},null,8,["style"])]),c("div",{class:"task-status-text",style:O([e.activeColor])},$(p.name),5)]),_:2},1032,["to","class","onClick"]))),256))])])])}var $t=b(mt,[["render",Ft],["__scopeId","data-v-6143fda6"]]);const Dt=g({components:{"preference-menu":$t}}),wt={class:"settings-con panel"};function Ct(e,t,s,n,l,u){const a=r("preference-menu"),d=r("el-aside"),p=r("router-view"),_=r("el-main"),h=r("el-container");return m(),F(h,{id:"container"},{default:i(()=>[o(d,{width:"200px",class:"hidden-subnav-only"},{default:i(()=>[o(a)]),_:1}),o(_,{class:"panel-content"},{default:i(()=>[c("div",wt,[o(p)])]),_:1})]),_:1})}var yt=b(Dt,[["render",Ct],["__scopeId","data-v-63c1a404"]]);const St=()=>{const e=C(!1);return{visible:e,setDrawerStatus:s=>{e.value=s}}};const Tt=g({name:"task-actions",emits:["deleteTask"],props:{task:{type:Object}},setup(e,t){const s=e.task,{visible:n,setDrawerStatus:l}=St(),u=C("25%");return{deleteTask:()=>{t.emit("deleteTask",{taskId:s.taskId})},detailsDrawerVisible:()=>{l(!0)},openLinkUrl:()=>{const h=s.parseUrl;electronApi.ipcRenderer.send("command","system:open-browser",h)},openLocationFolder:()=>{const h=`/Users/yushengyuan/yushengyuan/tests/${s.taskName}-darwin-arm64`;electronApi.ipcRenderer.send("command","system:open-finder",h)},visible:n,formLabelWidth:u,taskInfo:s}}}),Bt=e=>(T("data-v-cf6631aa"),e=e(),B(),e),At={class:"task-action-con"},It={class:"form-static-value"},Lt={class:"form-static-value"},Et={class:"form-static-value"},Ut=Bt(()=>c("span",null,"\u7F51\u7AD9\u4FE1\u606F",-1)),Vt={class:"form-static-value"},Nt={class:"form-static-value"};function Pt(e,t,s,n,l,u){const a=r("mo-icons"),d=r("el-form-item"),p=r("el-divider"),_=r("el-form"),h=r("el-drawer");return m(),k("div",At,[c("div",{class:"task-item-action",onClick:t[0]||(t[0]=(...f)=>e.openLocationFolder&&e.openLocationFolder(...f))},[o(a,{name:"file"})]),c("div",{class:"task-item-action",onClick:t[1]||(t[1]=(...f)=>e.deleteTask&&e.deleteTask(...f))},[o(a,{name:"close"})]),c("div",{class:"task-item-action",onClick:t[2]||(t[2]=(...f)=>e.openLinkUrl&&e.openLinkUrl(...f))},[o(a,{name:"link"})]),c("div",{class:"task-item-action",onClick:t[3]||(t[3]=(...f)=>e.detailsDrawerVisible&&e.detailsDrawerVisible(...f))},[o(a,{name:"infoFilled"})]),o(h,{"custom-class":"task-detail-drawer",modelValue:e.visible,"onUpdate:modelValue":t[4]||(t[4]=f=>e.visible=f),size:"61.8%","append-to-body":!0,title:"\u4EFB\u52A1\u8BE6\u60C5",direction:"rtl"},{default:i(()=>[o(_,{"label-width":e.formLabelWidth},{default:i(()=>[o(d,{label:"\u4EFB\u52A1\u540D\u79F0\uFF1A"},{default:i(()=>[c("div",It,$(e.taskInfo.taskName),1)]),_:1}),o(d,{label:"\u4EFB\u52A1\u63CF\u8FF0\uFF1A"},{default:i(()=>[c("div",Lt,$(e.taskInfo.taskDesc),1)]),_:1}),o(d,{label:"\u521B\u5EFA\u65F6\u95F4\uFF1A"},{default:i(()=>[c("div",Et,$(e.taskInfo.createDate),1)]),_:1}),o(p,null,{default:i(()=>[Ut]),_:1}),o(d,{label:"\u89E3\u6790url\uFF1A"},{default:i(()=>[c("div",Vt,$(e.taskInfo.parseUrl),1)]),_:1}),o(d,{label:"\u7F51\u7AD9\u6807\u8BC6\uFF1A"},{default:i(()=>[c("div",Nt,$(e.taskInfo.iconUrl),1)]),_:1})]),_:1},8,["label-width"])]),_:1},8,["modelValue"])])}var K=b(Tt,[["render",Pt],["__scopeId","data-v-cf6631aa"]]);const Rt=g({name:"task-pending",props:{color:String},setup:e=>({color:e.color})});function zt(e,t,s,n,l,u){const a=r("el-progress");return m(),F(a,{percentage:50,indeterminate:!0,"show-text":!1,color:e.color},null,8,["color"])}var x=b(Rt,[["render",zt]]);const Mt=g({name:"task-list",components:{[K.name]:K,[x.name]:x},setup(){return{taskList:C([{taskName:"123",taskId:1}])}}}),Ot=e=>(T("data-v-079fd3b0"),e=e(),B(),e),jt={key:0,class:"task-list-outer"},Kt={class:"task-item-con"},Wt={class:"task-item-name"},qt={class:"task-pending"},Gt={key:1,class:"no-task"},Jt=Ot(()=>c("div",{class:"no-task-inner"}," \u5F53\u524D\u6CA1\u6709\u4E0B\u8F7D\u4EFB\u52A1 ",-1)),Ht=[Jt];function Qt(e,t,s,n,l,u){const a=r("task-actions"),d=r("task-pending");return e.taskList.length>0?(m(),k("div",jt,[(m(!0),k(I,null,P(e.taskList,p=>(m(),k("div",Kt,[c("div",Wt,[c("span",null,$(p.taskName),1)]),o(a),c("div",qt,[o(d,{color:"#5b5bfa"})])]))),256))])):(m(),k("div",Gt,Ht))}var ee=b(Mt,[["render",Qt],["__scopeId","data-v-079fd3b0"]]);const Xt=g({name:"menu-pending",components:{[ee.name]:ee}}),Yt=c("div",{class:"download-header header-title"},"\u4E0B\u8F7D\u4E2D",-1);function Zt(e,t,s,n,l,u){const a=r("el-header"),d=r("task-list"),p=r("el-main"),_=r("el-container");return m(),F(_,null,{default:i(()=>[o(a,{class:"panel-header"},{default:i(()=>[Yt]),_:1}),o(p,{class:"panel-content"},{default:i(()=>[o(d)]),_:1})]),_:1})}var xt=b(Xt,[["render",Zt]]);async function eo(){await j().fetchTaskList()}const to=()=>{const e=j(),{rowFinishListData:t}=R(e),s=t;return pe(async()=>{await eo()}),{finishListRef:s,removeTask:async l=>{G.confirm("\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",{title:"\u64CD\u4F5C\u786E\u8BA4",confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{const u=j(),{data:a}=await Q.removeTask(l);u.setFinishTaskListData(a),u.setRowTaskData(),S.success("\u5220\u9664\u6210\u529F\uFF01")})}}};const oo=g({name:"finish-list",components:{[K.name]:K},setup(){const{finishListRef:e,removeTask:t}=to(),s=A(),n=W(()=>{let u="#080808c7";return s.appThemeColor===y.LIGHT&&(u="white"),{padding:"0px","background-color":u}});return{finishListRef:e,deleteTask:u=>{t(u.taskId)},cardStyle:n}}}),so=e=>(T("data-v-28775031"),e=e(),B(),e),ao={key:0,class:"task-list-outer"},no={class:"task-actions-con"},lo={class:"task-icon-con"},ro=["src"],io={class:"task-info-con"},uo={class:"time-con"},co={class:"time"},po={key:1,class:"no-task"},_o=so(()=>c("div",{class:"no-task-inner"}," \u5F53\u524D\u6CA1\u6709\u5DF2\u7ECF\u5B8C\u6210\u7684\u4EFB\u52A1 ",-1)),mo=[_o];function fo(e,t,s,n,l,u){const a=r("task-actions"),d=r("el-card"),p=r("el-col"),_=r("el-row");return e.finishListRef.length>0?(m(),k("div",ao,[(m(!0),k(I,null,P(e.finishListRef,h=>(m(),F(_,{type:"flex",justify:"start",style:{"margin-bottom":"20px"},gutter:2},{default:i(()=>[(m(!0),k(I,null,P(h.rowElement,(f,w)=>(m(),F(p,{span:11,key:f.taskId,offset:w>0?2:0},{default:i(()=>[o(d,{style:{cursor:"pointer"},"body-style":e.cardStyle},{default:i(()=>[c("div",no,[o(a,{task:f,onDeleteTask:e.deleteTask},null,8,["task","onDeleteTask"])]),c("div",lo,[c("img",{class:"task-icon",src:f.iconUrl},null,8,ro)]),c("div",io,[c("span",null,$(f.taskName),1),c("div",uo,[c("time",co,"\u521B\u5EFA\u65F6\u95F4:"+$(f.createDate),1)])])]),_:2},1032,["body-style"])]),_:2},1032,["offset"]))),128))]),_:2},1024))),256))])):(m(),k("div",po,mo))}var te=b(oo,[["render",fo],["__scopeId","data-v-28775031"]]);const ho=g({name:"menu-finish",components:{[te.name]:te}}),ko=c("div",{class:"download-header header-title"},"\u5DF2\u5B8C\u6210",-1);function vo(e,t,s,n,l,u){const a=r("el-header"),d=r("finish-list"),p=r("el-main"),_=r("el-container");return m(),F(_,{id:"container"},{default:i(()=>[o(a,{class:"panel-header"},{default:i(()=>[ko]),_:1}),o(p,{class:"panel-content"},{default:i(()=>[o(d)]),_:1})]),_:1})}var go=b(ho,[["render",vo]]);const bo=g({name:"theme-switcher",setup(){const e=C([{className:"theme-item-auto",text:"\u81EA\u52A8"},{className:"theme-item-light",text:"\u6D45\u8272"},{className:"theme-item-dark",text:"\u6DF1\u8272"}]),t=A(),s=W(()=>t.appThemeColor);return{themeOptionsArr:e,currentValue:s,changeColor:l=>{t.updateAppThemeColor(l)}}}}),Fo=e=>(T("data-v-71d3ec09"),e=e(),B(),e),$o={class:"theme-switcher"},Do=["onClick"],wo=Fo(()=>c("div",{class:"theme-thumb"},null,-1));function Co(e,t,s,n,l,u){return m(),k("ul",$o,[(m(!0),k(I,null,P(e.themeOptionsArr,(a,d)=>(m(),k("li",{class:H(["theme-item",a.className,{active:e.currentValue===d}]),key:a.className,onClick:p=>e.changeColor(d)},[wo,c("span",null,$(a.text),1)],10,Do))),128))])}var oe=b(bo,[["render",Co],["__scopeId","data-v-71d3ec09"]]);const yo=g({name:"base-settings",components:{[oe.name]:oe},setup(){const e=C("25%"),t=A(),s=M({appThemeColor:t.appThemeColor,autoStartup:t.autoStartup,downloadDefaultDir:t.downloadDefaultDir,cachePath:t.cachePath});let n=s.appThemeColor,l=!1;const u=()=>{const{appThemeColor:p}=t;s.appThemeColor=p,G.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u66F4\u6539\u5417\uFF1F",{title:"\u64CD\u4F5C\u786E\u8BA4",confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{l=!1,n=t.appThemeColor;const _=J(s);le(_),t.updateCachePath(s.cachePath),t.updateStartupSet(s.autoStartup),t.updateDownloadPath(s.downloadDefaultDir),S({message:"\u4FDD\u5B58\u6210\u529F\uFF01",type:"success"})})},a=()=>{l=!0},d=()=>{t.updateAppThemeColor(n),s.downloadDefaultDir=t.downloadDefaultDir,s.autoStartup=t.autoStartup,s.cachePath=t.cachePath};return _e((p,_,h)=>{const f=t.appThemeColor;if(!l&&f===n){h();return}G.confirm("\u4F60\u7684\u66F4\u6539\u4E0A\u6CA1\u6709\u4FDD\u5B58\uFF0C\u4F60\u786E\u5B9A\u8981\u79BB\u5F00\u5417\uFF1F",{title:"\u64CD\u4F5C\u786E\u8BA4",confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{t.updateAppThemeColor(n),h()}).catch(()=>{h(!1)})}),{formLabelWidth:e,basicSettingsForm:s,inputChange:a,saveSettings:u,dropSettings:d}}}),So=e=>(T("data-v-40ab10b8"),e=e(),B(),e),To=So(()=>c("div",{class:"settings-header header-title"},"\u57FA\u7840\u8BBE\u7F6E",-1)),Bo=z(" \u5F00\u673A\u65F6\u542F\u52A8 "),Ao={class:"form-actions"},Io=z(" \u4FDD\u5B58\u5E76\u5E94\u7528 "),Lo=z(" \u653E\u5F03 ");function Eo(e,t,s,n,l,u){const a=r("el-header"),d=r("theme-switcher"),p=r("el-col"),_=r("el-form-item"),h=r("el-checkbox"),f=r("el-input"),w=r("el-form"),L=r("el-button"),v=r("el-main"),ie=r("el-container");return m(),F(ie,null,{default:i(()=>[o(a,{class:"panel-header"},{default:i(()=>[To]),_:1}),o(v,{class:"panel-content"},{default:i(()=>[o(w,{class:"form-preference",size:"mini"},{default:i(()=>[o(_,{modal:e.basicSettingsForm,label:"\u5916\u89C2:","label-width":e.formLabelWidth},{default:i(()=>[o(p,{class:"form-item-sub",span:24},{default:i(()=>[o(d)]),_:1})]),_:1},8,["modal","label-width"]),o(_,{label:"\u542F\u52A8:","label-width":e.formLabelWidth},{default:i(()=>[o(h,{modelValue:e.basicSettingsForm.autoStartup,"onUpdate:modelValue":t[0]||(t[0]=U=>e.basicSettingsForm.autoStartup=U),onChange:e.inputChange},{default:i(()=>[Bo]),_:1},8,["modelValue","onChange"])]),_:1},8,["label-width"]),o(_,{label:"\u9ED8\u8BA4\u4E0B\u8F7D\u8DEF\u5F84:","label-width":e.formLabelWidth},{default:i(()=>[o(f,{modelValue:e.basicSettingsForm.downloadDefaultDir,"onUpdate:modelValue":t[1]||(t[1]=U=>e.basicSettingsForm.downloadDefaultDir=U),size:"default",onChange:e.inputChange},null,8,["modelValue","onChange"])]),_:1},8,["label-width"]),o(_,{label:"\u4F7F\u7528\u7F13\u5B58\u8DEF\u5F84\u52A0\u901F:","label-width":e.formLabelWidth},{default:i(()=>[o(f,{modelValue:e.basicSettingsForm.cachePath,"onUpdate:modelValue":t[2]||(t[2]=U=>e.basicSettingsForm.cachePath=U),size:"default",onChange:e.inputChange},null,8,["modelValue","onChange"])]),_:1},8,["label-width"])]),_:1}),c("div",Ao,[o(L,{type:"primary",size:"default",onClick:e.saveSettings},{default:i(()=>[Io]),_:1},8,["onClick"]),o(L,{size:"default",onClick:e.dropSettings},{default:i(()=>[Lo]),_:1},8,["onClick"])])]),_:1})]),_:1})}var Uo=b(yo,[["render",Eo],["__scopeId","data-v-40ab10b8"]]);const Vo=[{path:"/",redirect:"/download"},{path:"/download",component:_t,name:"download",redirect:"/download/finish",children:[{path:"pending",component:xt,name:"menu-pending"},{path:"finish",component:go,name:"menu-finish"}]},{path:"/settings",component:yt,name:"settings",redirect:"/settings/baseSettings",children:[{path:"baseSettings",component:Uo,name:"baseSettings"}]}],No=me({history:fe(),routes:Vo}),Po=he();const V={switch:{lightColor:"rgb(155, 155, 155)",darkColor:"white"},setting:{defaultColor:"#ffffff"},add:{defaultColor:"#ffffff"},download:{defaultColor:"#ffffff"},file:{lightColor:"rgb(155, 155, 155)",darkColor:"white"},close:{lightColor:"rgb(155, 155, 155)",darkColor:"white"},link:{lightColor:"rgb(155, 155, 155)",darkColor:"white"},infoFilled:{lightColor:"rgb(155, 155, 155)",darkColor:"white"}};function Ro(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const re={};function D(e){const t=e.name;re[t]={name:t,elementUIComponentName:e.elementUIComponentName,fontSize:((e==null?void 0:e.fontSize)||16)+"px",color:"#9B9B9B",adaptDarkMode:typeof e.adaptDarkMode=="boolean"?e.adaptDarkMode:!0}}var zo=g({props:{name:{type:String},color:{type:String}},setup(e){const t=A(),s=R(t),{appThemeColor:n}=s,l=re[e.name],u=l.elementUIComponentName;let a=M({"font-size":l.fontSize,color:l.color});const d=()=>{const p=l.adaptDarkMode;p&&V[l.name]?n.value===y.DARK?a.color=V[l.name].darkColor:a.color=V[l.name].lightColor:!p&&V[l.name]&&(a.color=V[l.name].defaultColor)};return ne(()=>n.value,()=>{d()},{immediate:!0}),()=>{let p;return o(r("el-icon"),{style:a},Ro(p=ke(r(u)))?p:{default:()=>[p]})}}});D({name:"add",elementUIComponentName:"Plus",fontSize:25,adaptDarkMode:!1});D({name:"download",elementUIComponentName:"Promotion",fontSize:25,adaptDarkMode:!1});D({name:"file",elementUIComponentName:"FolderRemove",fontSize:20});D({name:"infoFilled",elementUIComponentName:"InfoFilled"});D({name:"checkSuccess",elementUIComponentName:"CircleCheckFilled",fontSize:20});D({name:"close",elementUIComponentName:"Close",fontSize:20});D({name:"setting",elementUIComponentName:"Setting",fontSize:25,adaptDarkMode:!1});D({name:"caretRight",elementUIComponentName:"Download",fontSize:20});D({name:"link",elementUIComponentName:"Link",fontSize:20});D({name:"switch",elementUIComponentName:"SetUp",fontSize:20});function Mo(e){for(const t in Y)e.component(t,Y[t])}const E=ge(xe);Mo(E);E.component("mo-icons",zo);E.use(No);E.use(be);E.use(Po);E.mount("#app");
